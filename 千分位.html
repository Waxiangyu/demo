<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<input type="number" onChange="this.value=cc(this.value)" value="" />
		<script type="text/javascript">
			//正则篇
			function cc(s){
				if(/^0-9\./.test(s)) return "invalid value";
				s=s.replace(/^(\d*)$/,"$1.");
				s=(s+"00").replace(/(\d*\.\d\d)\d*/,"$1");
				s=s.replace(".",",");
				var re=/(\d)(\d{3},)/;
				debugger
				while(re.test(s))
					s=s.replace(re,"$1,$2");
				s=s.replace(/,(\d\d)$/,".$1");
				return "￥"+s.replace(/^\./,"0.")
			}
		</script>
	</body>
</html>
